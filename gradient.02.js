(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();/* @license twgl.js 5.3.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let Ge=Float32Array;function Bt(n,t,e){const i=new Ge(3);return n&&(i[0]=n),t&&(i[1]=t),e&&(i[2]=e),i}function Cs(n,t,e){return e=e||new Ge(3),e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e}function _n(n,t,e){e=e||new Ge(3);const i=n[2]*t[0]-n[0]*t[2],r=n[0]*t[1]-n[1]*t[0];return e[0]=n[1]*t[2]-n[2]*t[1],e[1]=i,e[2]=r,e}function ei(n,t){t=t||new Ge(3);const e=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],i=Math.sqrt(e);return i>1e-5?(t[0]=n[0]/i,t[1]=n[1]/i,t[2]=n[2]/i):(t[0]=0,t[1]=0,t[2]=0),t}let $=Float32Array;function Ps(n){const t=$;return $=n,t}function ks(n,t){return t=t||new $(16),t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t}function Fs(){return new $(16).fill(0)}function In(n,t){return t=t||new $(16),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Bn(n){return n=n||new $(16),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Ms(n,t){if(t=t||new $(16),t===n){let y;return y=n[1],n[1]=n[4],n[4]=y,y=n[2],n[2]=n[8],n[8]=y,y=n[3],n[3]=n[12],n[12]=y,y=n[6],n[6]=n[9],n[9]=y,y=n[7],n[7]=n[13],n[13]=y,y=n[11],n[11]=n[14],n[14]=y,t}const e=n[0*4+0],i=n[0*4+1],r=n[0*4+2],s=n[0*4+3],o=n[1*4+0],a=n[1*4+1],l=n[1*4+2],u=n[1*4+3],c=n[2*4+0],h=n[2*4+1],f=n[2*4+2],d=n[2*4+3],g=n[3*4+0],_=n[3*4+1],m=n[3*4+2],p=n[3*4+3];return t[0]=e,t[1]=o,t[2]=c,t[3]=g,t[4]=i,t[5]=a,t[6]=h,t[7]=_,t[8]=r,t[9]=l,t[10]=f,t[11]=m,t[12]=s,t[13]=u,t[14]=d,t[15]=p,t}function Ln(n,t){t=t||new $(16);const e=n[0*4+0],i=n[0*4+1],r=n[0*4+2],s=n[0*4+3],o=n[1*4+0],a=n[1*4+1],l=n[1*4+2],u=n[1*4+3],c=n[2*4+0],h=n[2*4+1],f=n[2*4+2],d=n[2*4+3],g=n[3*4+0],_=n[3*4+1],m=n[3*4+2],p=n[3*4+3],y=f*p,v=m*d,A=l*p,x=m*u,E=l*d,T=f*u,w=r*p,b=m*s,S=r*d,C=f*s,F=r*u,D=l*s,O=c*_,k=g*h,z=o*_,R=g*a,I=o*h,ht=c*a,ft=e*_,bt=g*i,_t=e*h,Gt=c*i,et=e*a,dt=o*i,un=y*a+x*h+E*_-(v*a+A*h+T*_),cn=v*i+w*h+C*_-(y*i+b*h+S*_),hn=A*i+b*a+F*_-(x*i+w*a+D*_),fn=T*i+S*a+D*h-(E*i+C*a+F*h),j=1/(e*un+o*cn+c*hn+g*fn);return t[0]=j*un,t[1]=j*cn,t[2]=j*hn,t[3]=j*fn,t[4]=j*(v*o+A*c+T*g-(y*o+x*c+E*g)),t[5]=j*(y*e+b*c+S*g-(v*e+w*c+C*g)),t[6]=j*(x*e+w*o+D*g-(A*e+b*o+F*g)),t[7]=j*(E*e+C*o+F*c-(T*e+S*o+D*c)),t[8]=j*(O*u+R*d+I*p-(k*u+z*d+ht*p)),t[9]=j*(k*s+ft*d+Gt*p-(O*s+bt*d+_t*p)),t[10]=j*(z*s+bt*u+et*p-(R*s+ft*u+dt*p)),t[11]=j*(ht*s+_t*u+dt*d-(I*s+Gt*u+et*d)),t[12]=j*(z*f+ht*m+k*l-(I*m+O*l+R*f)),t[13]=j*(_t*m+O*r+bt*f-(ft*f+Gt*m+k*r)),t[14]=j*(ft*l+dt*m+R*r-(et*m+z*r+bt*l)),t[15]=j*(et*f+I*r+Gt*l-(_t*l+dt*f+ht*r)),t}function Ds(n,t,e){e=e||new $(16);const i=n[0],r=n[1],s=n[2],o=n[3],a=n[4+0],l=n[4+1],u=n[4+2],c=n[4+3],h=n[8+0],f=n[8+1],d=n[8+2],g=n[8+3],_=n[12+0],m=n[12+1],p=n[12+2],y=n[12+3],v=t[0],A=t[1],x=t[2],E=t[3],T=t[4+0],w=t[4+1],b=t[4+2],S=t[4+3],C=t[8+0],F=t[8+1],D=t[8+2],O=t[8+3],k=t[12+0],z=t[12+1],R=t[12+2],I=t[12+3];return e[0]=i*v+a*A+h*x+_*E,e[1]=r*v+l*A+f*x+m*E,e[2]=s*v+u*A+d*x+p*E,e[3]=o*v+c*A+g*x+y*E,e[4]=i*T+a*w+h*b+_*S,e[5]=r*T+l*w+f*b+m*S,e[6]=s*T+u*w+d*b+p*S,e[7]=o*T+c*w+g*b+y*S,e[8]=i*C+a*F+h*D+_*O,e[9]=r*C+l*F+f*D+m*O,e[10]=s*C+u*F+d*D+p*O,e[11]=o*C+c*F+g*D+y*O,e[12]=i*k+a*z+h*R+_*I,e[13]=r*k+l*z+f*R+m*I,e[14]=s*k+u*z+d*R+p*I,e[15]=o*k+c*z+g*R+y*I,e}function Os(n,t,e){return e=e||Bn(),n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11]),e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Rs(n,t){return t=t||Bt(),t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function zs(n,t,e){e=e||Bt();const i=t*4;return e[0]=n[i+0],e[1]=n[i+1],e[2]=n[i+2],e}function Is(n,t,e,i){i!==n&&(i=In(n,i));const r=e*4;return i[r+0]=t[0],i[r+1]=t[1],i[r+2]=t[2],i}function Bs(n,t,e,i,r){r=r||new $(16);const s=Math.tan(Math.PI*.5-.5*n),o=1/(e-i);return r[0]=s/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(e+i)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=e*i*o*2,r[15]=0,r}function Ls(n,t,e,i,r,s,o){return o=o||new $(16),o[0]=2/(t-n),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(i-e),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(r-s),o[11]=0,o[12]=(t+n)/(n-t),o[13]=(i+e)/(e-i),o[14]=(s+r)/(r-s),o[15]=1,o}function $s(n,t,e,i,r,s,o){o=o||new $(16);const a=t-n,l=i-e,u=r-s;return o[0]=2*r/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/l,o[6]=0,o[7]=0,o[8]=(n+t)/a,o[9]=(i+e)/l,o[10]=s/u,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s/u,o[15]=0,o}let Ot,Ht,Pt;function Us(n,t,e,i){return i=i||new $(16),Ot=Ot||Bt(),Ht=Ht||Bt(),Pt=Pt||Bt(),ei(Cs(n,t,Pt),Pt),ei(_n(e,Pt,Ot),Ot),ei(_n(Pt,Ot,Ht),Ht),i[0]=Ot[0],i[1]=Ot[1],i[2]=Ot[2],i[3]=0,i[4]=Ht[0],i[5]=Ht[1],i[6]=Ht[2],i[7]=0,i[8]=Pt[0],i[9]=Pt[1],i[10]=Pt[2],i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function Ns(n,t){return t=t||new $(16),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Vs(n,t,e){e=e||new $(16);const i=t[0],r=t[1],s=t[2],o=n[0],a=n[1],l=n[2],u=n[3],c=n[1*4+0],h=n[1*4+1],f=n[1*4+2],d=n[1*4+3],g=n[2*4+0],_=n[2*4+1],m=n[2*4+2],p=n[2*4+3],y=n[3*4+0],v=n[3*4+1],A=n[3*4+2],x=n[3*4+3];return n!==e&&(e[0]=o,e[1]=a,e[2]=l,e[3]=u,e[4]=c,e[5]=h,e[6]=f,e[7]=d,e[8]=g,e[9]=_,e[10]=m,e[11]=p),e[12]=o*i+c*r+g*s+y,e[13]=a*i+h*r+_*s+v,e[14]=l*i+f*r+m*s+A,e[15]=u*i+d*r+p*s+x,e}function Ys(n,t){t=t||new $(16);const e=Math.cos(n),i=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Gs(n,t,e){e=e||new $(16);const i=n[4],r=n[5],s=n[6],o=n[7],a=n[8],l=n[9],u=n[10],c=n[11],h=Math.cos(t),f=Math.sin(t);return e[4]=h*i+f*a,e[5]=h*r+f*l,e[6]=h*s+f*u,e[7]=h*o+f*c,e[8]=h*a-f*i,e[9]=h*l-f*r,e[10]=h*u-f*s,e[11]=h*c-f*o,n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e}function Hs(n,t){t=t||new $(16);const e=Math.cos(n),i=Math.sin(n);return t[0]=e,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Xs(n,t,e){e=e||new $(16);const i=n[0*4+0],r=n[0*4+1],s=n[0*4+2],o=n[0*4+3],a=n[2*4+0],l=n[2*4+1],u=n[2*4+2],c=n[2*4+3],h=Math.cos(t),f=Math.sin(t);return e[0]=h*i-f*a,e[1]=h*r-f*l,e[2]=h*s-f*u,e[3]=h*o-f*c,e[8]=h*a+f*i,e[9]=h*l+f*r,e[10]=h*u+f*s,e[11]=h*c+f*o,n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e}function Ws(n,t){t=t||new $(16);const e=Math.cos(n),i=Math.sin(n);return t[0]=e,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function qs(n,t,e){e=e||new $(16);const i=n[0*4+0],r=n[0*4+1],s=n[0*4+2],o=n[0*4+3],a=n[1*4+0],l=n[1*4+1],u=n[1*4+2],c=n[1*4+3],h=Math.cos(t),f=Math.sin(t);return e[0]=h*i+f*a,e[1]=h*r+f*l,e[2]=h*s+f*u,e[3]=h*o+f*c,e[4]=h*a-f*i,e[5]=h*l-f*r,e[6]=h*u-f*s,e[7]=h*c-f*o,n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e}function js(n,t,e){e=e||new $(16);let i=n[0],r=n[1],s=n[2];const o=Math.sqrt(i*i+r*r+s*s);i/=o,r/=o,s/=o;const a=i*i,l=r*r,u=s*s,c=Math.cos(t),h=Math.sin(t),f=1-c;return e[0]=a+(1-a)*c,e[1]=i*r*f+s*h,e[2]=i*s*f-r*h,e[3]=0,e[4]=i*r*f-s*h,e[5]=l+(1-l)*c,e[6]=r*s*f+i*h,e[7]=0,e[8]=i*s*f+r*h,e[9]=r*s*f-i*h,e[10]=u+(1-u)*c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ks(n,t,e,i){i=i||new $(16);let r=t[0],s=t[1],o=t[2];const a=Math.sqrt(r*r+s*s+o*o);r/=a,s/=a,o/=a;const l=r*r,u=s*s,c=o*o,h=Math.cos(e),f=Math.sin(e),d=1-h,g=l+(1-l)*h,_=r*s*d+o*f,m=r*o*d-s*f,p=r*s*d-o*f,y=u+(1-u)*h,v=s*o*d+r*f,A=r*o*d+s*f,x=s*o*d-r*f,E=c+(1-c)*h,T=n[0],w=n[1],b=n[2],S=n[3],C=n[4],F=n[5],D=n[6],O=n[7],k=n[8],z=n[9],R=n[10],I=n[11];return i[0]=g*T+_*C+m*k,i[1]=g*w+_*F+m*z,i[2]=g*b+_*D+m*R,i[3]=g*S+_*O+m*I,i[4]=p*T+y*C+v*k,i[5]=p*w+y*F+v*z,i[6]=p*b+y*D+v*R,i[7]=p*S+y*O+v*I,i[8]=A*T+x*C+E*k,i[9]=A*w+x*F+E*z,i[10]=A*b+x*D+E*R,i[11]=A*S+x*O+E*I,n!==i&&(i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15]),i}function Qs(n,t){return t=t||new $(16),t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Zs(n,t,e){e=e||new $(16);const i=t[0],r=t[1],s=t[2];return e[0]=i*n[0*4+0],e[1]=i*n[0*4+1],e[2]=i*n[0*4+2],e[3]=i*n[0*4+3],e[4]=r*n[1*4+0],e[5]=r*n[1*4+1],e[6]=r*n[1*4+2],e[7]=r*n[1*4+3],e[8]=s*n[2*4+0],e[9]=s*n[2*4+1],e[10]=s*n[2*4+2],e[11]=s*n[2*4+3],n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e}function Js(n,t,e){e=e||Bt();const i=t[0],r=t[1],s=t[2],o=i*n[0*4+3]+r*n[1*4+3]+s*n[2*4+3]+n[3*4+3];return e[0]=(i*n[0*4+0]+r*n[1*4+0]+s*n[2*4+0]+n[3*4+0])/o,e[1]=(i*n[0*4+1]+r*n[1*4+1]+s*n[2*4+1]+n[3*4+1])/o,e[2]=(i*n[0*4+2]+r*n[1*4+2]+s*n[2*4+2]+n[3*4+2])/o,e}function to(n,t,e){e=e||Bt();const i=t[0],r=t[1],s=t[2];return e[0]=i*n[0*4+0]+r*n[1*4+0]+s*n[2*4+0],e[1]=i*n[0*4+1]+r*n[1*4+1]+s*n[2*4+1],e[2]=i*n[0*4+2]+r*n[1*4+2]+s*n[2*4+2],e}function eo(n,t,e){e=e||Bt();const i=Ln(n),r=t[0],s=t[1],o=t[2];return e[0]=r*i[0*4+0]+s*i[0*4+1]+o*i[0*4+2],e[1]=r*i[1*4+0]+s*i[1*4+1]+o*i[1*4+2],e[2]=r*i[2*4+0]+s*i[2*4+1]+o*i[2*4+2],e}var dn=Object.freeze({__proto__:null,axisRotate:Ks,axisRotation:js,copy:In,create:Fs,frustum:$s,getAxis:zs,getTranslation:Rs,identity:Bn,inverse:Ln,lookAt:Us,multiply:Ds,negate:ks,ortho:Ls,perspective:Bs,rotateX:Gs,rotateY:Xs,rotateZ:qs,rotationX:Ys,rotationY:Hs,rotationZ:Ws,scale:Zs,scaling:Qs,setAxis:Is,setDefaultType:Ps,setTranslation:Os,transformDirection:to,transformNormal:eo,transformPoint:Js,translate:Vs,translation:Ns,transpose:Ms});const Fi=5120,be=5121,Mi=5122,Di=5123,Oi=5124,Ri=5125,zi=5126,io=32819,no=32820,ro=33635,so=5131,oo=33640,ao=35899,lo=35902,uo=36269,co=34042,$n={};{const n=$n;n[Fi]=Int8Array,n[be]=Uint8Array,n[Mi]=Int16Array,n[Di]=Uint16Array,n[Oi]=Int32Array,n[Ri]=Uint32Array,n[zi]=Float32Array,n[io]=Uint16Array,n[no]=Uint16Array,n[ro]=Uint16Array,n[so]=Uint16Array,n[oo]=Uint32Array,n[ao]=Uint32Array,n[lo]=Uint32Array,n[uo]=Uint32Array,n[co]=Uint32Array}function Un(n){if(n instanceof Int8Array)return Fi;if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return be;if(n instanceof Int16Array)return Mi;if(n instanceof Uint16Array)return Di;if(n instanceof Int32Array)return Oi;if(n instanceof Uint32Array)return Ri;if(n instanceof Float32Array)return zi;throw new Error("unsupported typed array type")}function Nn(n){if(n===Int8Array)return Fi;if(n===Uint8Array||n===Uint8ClampedArray)return be;if(n===Int16Array)return Mi;if(n===Uint16Array)return Di;if(n===Int32Array)return Oi;if(n===Uint32Array)return Ri;if(n===Float32Array)return zi;throw new Error("unsupported typed array type")}function ho(n){const t=$n[n];if(!t)throw new Error("unknown gl type");return t}const _i=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function fo(...n){console.error(...n)}const pn=new Map;function Vn(n,t){if(!n||typeof n!="object")return!1;let e=pn.get(t);e||(e=new WeakMap,pn.set(t,e));let i=e.get(n);if(i===void 0){const r=Object.prototype.toString.call(n);i=r.substring(8,r.length-1)===t,e.set(n,i)}return i}function _o(n,t){return typeof WebGLBuffer<"u"&&Vn(t,"WebGLBuffer")}function Yn(n,t){return typeof WebGLTexture<"u"&&Vn(t,"WebGLTexture")}const Gn=35044,Kt=34962,po=34963,go=34660,mo=5120,yo=5121,vo=5122,xo=5123,Ao=5124,bo=5125,Hn=5126,Xn={attribPrefix:""};function wo(n,t,e,i,r){n.bindBuffer(t,e),n.bufferData(t,i,r||Gn)}function Wn(n,t,e,i){if(_o(n,t))return t;e=e||Kt;const r=n.createBuffer();return wo(n,e,r,t,i),r}function qn(n){return n==="indices"}function To(n){return n===Int8Array||n===Uint8Array}function Eo(n){return n.length?n:n.data}const So=/coord|texture/i,Co=/color|colour/i;function Po(n,t){let e;if(So.test(n)?e=2:Co.test(n)?e=4:e=3,t%e>0)throw new Error(`Can not guess numComponents for attribute '${n}'. Tried ${e} but ${t} values is not evenly divisible by ${e}. You should specify it.`);return e}function ko(n,t,e){return n.numComponents||n.size||Po(t,e||Eo(n).length)}function jn(n,t){if(_i(n))return n;if(_i(n.data))return n.data;Array.isArray(n)&&(n={data:n});let e=n.type?Ii(n.type):void 0;return e||(qn(t)?e=Uint16Array:e=Float32Array),new e(n.data)}function Fo(n){return typeof n=="number"?n:n?Nn(n):Hn}function Ii(n){return typeof n=="number"?ho(n):n||Float32Array}function Mo(n,t){return{buffer:t.buffer,numValues:2*3*4,type:Fo(t.type),arrayType:Ii(t.type)}}function Do(n,t){const e=t.data||t,i=Ii(t.type),r=e*i.BYTES_PER_ELEMENT,s=n.createBuffer();return n.bindBuffer(Kt,s),n.bufferData(Kt,r,t.drawType||Gn),{buffer:s,numValues:e,type:Nn(i),arrayType:i}}function Oo(n,t,e){const i=jn(t,e);return{arrayType:i.constructor,buffer:Wn(n,i,void 0,t.drawType),type:Un(i),numValues:0}}function Ro(n,t){const e={};return Object.keys(t).forEach(function(i){if(!qn(i)){const r=t[i],s=r.attrib||r.name||r.attribName||Xn.attribPrefix+i;if(r.value){if(!Array.isArray(r.value)&&!_i(r.value))throw new Error("array.value is not array or typedarray");e[s]={value:r.value}}else{let o;r.buffer&&r.buffer instanceof WebGLBuffer?o=Mo:typeof r=="number"||typeof r.data=="number"?o=Do:o=Oo;const{buffer:a,type:l,numValues:u,arrayType:c}=o(n,r,i),h=r.normalize!==void 0?r.normalize:To(c),f=ko(r,i,u);e[s]={buffer:a,numComponents:f,type:l,normalize:h,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),n.bindBuffer(Kt,null),e}function zo(n,t){return t===mo||t===yo?1:t===vo||t===xo?2:t===Ao||t===bo||t===Hn?4:0}const ii=["position","positions","a_position"];function Io(n,t){let e,i;for(i=0;i<ii.length&&(e=ii[i],!(e in t||(e=Xn.attribPrefix+e,e in t)));++i);i===ii.length&&(e=Object.keys(t)[0]);const r=t[e];if(!r.buffer)return 1;n.bindBuffer(Kt,r.buffer);const s=n.getBufferParameter(Kt,go);n.bindBuffer(Kt,null);const o=zo(n,r.type),a=s/o,l=r.numComponents||r.size,u=a/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function Kn(n,t,e){const i=Ro(n,t),r=Object.assign({},e||{});r.attribs=Object.assign({},e?e.attribs:{},i);const s=t.indices;if(s){const o=jn(s,"indices");r.indices=Wn(n,o,po),r.numElements=o.length,r.elementType=Un(o)}else r.numElements||(r.numElements=Io(n,r.attribs));return r}function Bi(n){return!!n.texStorage2D}const Bo=function(){const n={},t={};function e(i){const r=i.constructor.name;if(!n[r]){for(const s in i)if(typeof i[s]=="number"){const o=t[i[s]];t[i[s]]=o?`${o} | ${s}`:s}n[r]=!0}}return function(r,s){return e(r),t[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Li=fo;function Qn(n){return typeof document<"u"&&document.getElementById?document.getElementById(n):null}const ze=33984,He=34962,Lo=34963,$o=35713,Uo=35714,No=35632,Vo=35633,Yo=35981,Zn=35718,Go=35721,Ho=35971,Xo=35382,Wo=35396,qo=35398,jo=35392,Ko=35395,Xe=5126,Jn=35664,tr=35665,er=35666,$i=5124,ir=35667,nr=35668,rr=35669,sr=35670,or=35671,ar=35672,lr=35673,ur=35674,cr=35675,hr=35676,Qo=35678,Zo=35680,Jo=35679,ta=35682,ea=35685,ia=35686,na=35687,ra=35688,sa=35689,oa=35690,aa=36289,la=36292,ua=36293,Ui=5125,fr=36294,_r=36295,dr=36296,ca=36298,ha=36299,fa=36300,_a=36303,da=36306,pa=36307,ga=36308,ma=36311,We=3553,qe=34067,Ni=32879,je=35866,P={};function pr(n,t){return P[t].bindPoint}function ya(n,t){return function(e){n.uniform1f(t,e)}}function va(n,t){return function(e){n.uniform1fv(t,e)}}function xa(n,t){return function(e){n.uniform2fv(t,e)}}function Aa(n,t){return function(e){n.uniform3fv(t,e)}}function ba(n,t){return function(e){n.uniform4fv(t,e)}}function gr(n,t){return function(e){n.uniform1i(t,e)}}function mr(n,t){return function(e){n.uniform1iv(t,e)}}function yr(n,t){return function(e){n.uniform2iv(t,e)}}function vr(n,t){return function(e){n.uniform3iv(t,e)}}function xr(n,t){return function(e){n.uniform4iv(t,e)}}function wa(n,t){return function(e){n.uniform1ui(t,e)}}function Ta(n,t){return function(e){n.uniform1uiv(t,e)}}function Ea(n,t){return function(e){n.uniform2uiv(t,e)}}function Sa(n,t){return function(e){n.uniform3uiv(t,e)}}function Ca(n,t){return function(e){n.uniform4uiv(t,e)}}function Pa(n,t){return function(e){n.uniformMatrix2fv(t,!1,e)}}function ka(n,t){return function(e){n.uniformMatrix3fv(t,!1,e)}}function Fa(n,t){return function(e){n.uniformMatrix4fv(t,!1,e)}}function Ma(n,t){return function(e){n.uniformMatrix2x3fv(t,!1,e)}}function Da(n,t){return function(e){n.uniformMatrix3x2fv(t,!1,e)}}function Oa(n,t){return function(e){n.uniformMatrix2x4fv(t,!1,e)}}function Ra(n,t){return function(e){n.uniformMatrix4x2fv(t,!1,e)}}function za(n,t){return function(e){n.uniformMatrix3x4fv(t,!1,e)}}function Ia(n,t){return function(e){n.uniformMatrix4x3fv(t,!1,e)}}function J(n,t,e,i){const r=pr(n,t);return Bi(n)?function(s){let o,a;!s||Yn(n,s)?(o=s,a=null):(o=s.texture,a=s.sampler),n.uniform1i(i,e),n.activeTexture(ze+e),n.bindTexture(r,o),n.bindSampler(e,a)}:function(s){n.uniform1i(i,e),n.activeTexture(ze+e),n.bindTexture(r,s)}}function tt(n,t,e,i,r){const s=pr(n,t),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=e+a;return Bi(n)?function(a){n.uniform1iv(i,o),a.forEach(function(l,u){n.activeTexture(ze+o[u]);let c,h;!l||Yn(n,l)?(c=l,h=null):(c=l.texture,h=l.sampler),n.bindSampler(e,h),n.bindTexture(s,c)})}:function(a){n.uniform1iv(i,o),a.forEach(function(l,u){n.activeTexture(ze+o[u]),n.bindTexture(s,l)})}}P[Xe]={Type:Float32Array,size:4,setter:ya,arraySetter:va};P[Jn]={Type:Float32Array,size:8,setter:xa,cols:2};P[tr]={Type:Float32Array,size:12,setter:Aa,cols:3};P[er]={Type:Float32Array,size:16,setter:ba,cols:4};P[$i]={Type:Int32Array,size:4,setter:gr,arraySetter:mr};P[ir]={Type:Int32Array,size:8,setter:yr,cols:2};P[nr]={Type:Int32Array,size:12,setter:vr,cols:3};P[rr]={Type:Int32Array,size:16,setter:xr,cols:4};P[Ui]={Type:Uint32Array,size:4,setter:wa,arraySetter:Ta};P[fr]={Type:Uint32Array,size:8,setter:Ea,cols:2};P[_r]={Type:Uint32Array,size:12,setter:Sa,cols:3};P[dr]={Type:Uint32Array,size:16,setter:Ca,cols:4};P[sr]={Type:Uint32Array,size:4,setter:gr,arraySetter:mr};P[or]={Type:Uint32Array,size:8,setter:yr,cols:2};P[ar]={Type:Uint32Array,size:12,setter:vr,cols:3};P[lr]={Type:Uint32Array,size:16,setter:xr,cols:4};P[ur]={Type:Float32Array,size:32,setter:Pa,rows:2,cols:2};P[cr]={Type:Float32Array,size:48,setter:ka,rows:3,cols:3};P[hr]={Type:Float32Array,size:64,setter:Fa,rows:4,cols:4};P[ea]={Type:Float32Array,size:32,setter:Ma,rows:2,cols:3};P[ia]={Type:Float32Array,size:32,setter:Oa,rows:2,cols:4};P[na]={Type:Float32Array,size:48,setter:Da,rows:3,cols:2};P[ra]={Type:Float32Array,size:48,setter:za,rows:3,cols:4};P[sa]={Type:Float32Array,size:64,setter:Ra,rows:4,cols:2};P[oa]={Type:Float32Array,size:64,setter:Ia,rows:4,cols:3};P[Qo]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:We};P[Zo]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:qe};P[Jo]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:Ni};P[ta]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:We};P[aa]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:je};P[la]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:je};P[ua]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:qe};P[ca]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:We};P[ha]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:Ni};P[fa]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:qe};P[_a]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:je};P[da]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:We};P[pa]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:Ni};P[ga]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:qe};P[ma]={Type:null,size:0,setter:J,arraySetter:tt,bindPoint:je};function Ke(n,t){return function(e){if(e.value)switch(n.disableVertexAttribArray(t),e.value.length){case 4:n.vertexAttrib4fv(t,e.value);break;case 3:n.vertexAttrib3fv(t,e.value);break;case 2:n.vertexAttrib2fv(t,e.value);break;case 1:n.vertexAttrib1fv(t,e.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else n.bindBuffer(He,e.buffer),n.enableVertexAttribArray(t),n.vertexAttribPointer(t,e.numComponents||e.size,e.type||Xe,e.normalize||!1,e.stride||0,e.offset||0),n.vertexAttribDivisor&&n.vertexAttribDivisor(t,e.divisor||0)}}function Vt(n,t){return function(e){if(e.value)if(n.disableVertexAttribArray(t),e.value.length===4)n.vertexAttrib4iv(t,e.value);else throw new Error("The length of an integer constant value must be 4!");else n.bindBuffer(He,e.buffer),n.enableVertexAttribArray(t),n.vertexAttribIPointer(t,e.numComponents||e.size,e.type||$i,e.stride||0,e.offset||0),n.vertexAttribDivisor&&n.vertexAttribDivisor(t,e.divisor||0)}}function Qe(n,t){return function(e){if(e.value)if(n.disableVertexAttribArray(t),e.value.length===4)n.vertexAttrib4uiv(t,e.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else n.bindBuffer(He,e.buffer),n.enableVertexAttribArray(t),n.vertexAttribIPointer(t,e.numComponents||e.size,e.type||Ui,e.stride||0,e.offset||0),n.vertexAttribDivisor&&n.vertexAttribDivisor(t,e.divisor||0)}}function Vi(n,t,e){const i=e.size,r=e.count;return function(s){n.bindBuffer(He,s.buffer);const o=s.size||s.numComponents||i,a=o/r,l=s.type||Xe,c=P[l].size*o,h=s.normalize||!1,f=s.offset||0,d=c/r;for(let g=0;g<r;++g)n.enableVertexAttribArray(t+g),n.vertexAttribPointer(t+g,a,l,h,c,f+d*g),n.vertexAttribDivisor&&n.vertexAttribDivisor(t+g,s.divisor||0)}}const H={};H[Xe]={size:4,setter:Ke};H[Jn]={size:8,setter:Ke};H[tr]={size:12,setter:Ke};H[er]={size:16,setter:Ke};H[$i]={size:4,setter:Vt};H[ir]={size:8,setter:Vt};H[nr]={size:12,setter:Vt};H[rr]={size:16,setter:Vt};H[Ui]={size:4,setter:Qe};H[fr]={size:8,setter:Qe};H[_r]={size:12,setter:Qe};H[dr]={size:16,setter:Qe};H[sr]={size:4,setter:Vt};H[or]={size:8,setter:Vt};H[ar]={size:12,setter:Vt};H[lr]={size:16,setter:Vt};H[ur]={size:4,setter:Vi,count:2};H[cr]={size:9,setter:Vi,count:3};H[hr]={size:16,setter:Vi,count:4};const Ba=/ERROR:\s*\d+:(\d+)/gi;function La(n,t="",e=0){const i=[...t.matchAll(Ba)],r=new Map(i.map((s,o)=>{const a=parseInt(s[1]),l=i[o+1],u=l?l.index:t.length,c=t.substring(s.index,u);return[a-1,c]}));return n.split(`
`).map((s,o)=>{const a=r.get(o);return`${o+1+e}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const gn=/^[ \t]*\n/;function Ar(n){let t=0;return gn.test(n)&&(t=1,n=n.replace(gn,"")),{lineOffset:t,shaderSource:n}}function $a(n,t){return n.errorCallback(t),n.callback&&setTimeout(()=>{n.callback(`${t}
${n.errors.join(`
`)}`)}),null}function Ua(n,t,e,i){if(i=i||Li,!n.getShaderParameter(e,$o)){const s=n.getShaderInfoLog(e),{lineOffset:o,shaderSource:a}=Ar(n.getShaderSource(e)),l=`${La(a,s,o)}
Error compiling ${Bo(n,t)}: ${s}`;return i(l),l}return""}function Yi(n,t,e){let i,r,s;if(typeof t=="function"&&(e=t,t=void 0),typeof n=="function")e=n,n=void 0;else if(n&&!Array.isArray(n)){const u=n;e=u.errorCallback,n=u.attribLocations,i=u.transformFeedbackVaryings,r=u.transformFeedbackMode,s=u.callback}const o=e||Li,a=[],l={errorCallback(u,...c){a.push(u),o(u,...c)},transformFeedbackVaryings:i,transformFeedbackMode:r,callback:s,errors:a};{let u={};Array.isArray(n)?n.forEach(function(c,h){u[c]=t?t[h]:h}):u=n||{},l.attribLocations=u}return l}const Na=["VERTEX_SHADER","FRAGMENT_SHADER"];function Va(n,t){if(t.indexOf("frag")>=0)return No;if(t.indexOf("vert")>=0)return Vo}function Ya(n,t,e){const i=n.getAttachedShaders(t);for(const r of i)e.has(r)&&n.deleteShader(r);n.deleteProgram(t)}const Ga=(n=0)=>new Promise(t=>setTimeout(t,n));function Ha(n,t,e){const i=n.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:o}=Yi(e);for(let a=0;a<t.length;++a){let l=t[a];if(typeof l=="string"){const u=Qn(l),c=u?u.text:l;let h=n[Na[a]];u&&u.type&&(h=Va(n,u.type)||h),l=n.createShader(h),n.shaderSource(l,Ar(c).shaderSource),n.compileShader(l),n.attachShader(i,l)}}Object.entries(r).forEach(([a,l])=>n.bindAttribLocation(i,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),n.transformFeedbackVaryings(i,a,o||Yo))}return n.linkProgram(i),i}function Xa(n,t,e,i,r){const s=Yi(e,i,r),o=new Set(t),a=Ha(n,t,s);function l(u,c){const h=qa(u,c,s.errorCallback);return h&&Ya(u,c,o),h}if(s.callback){Wa(n,a).then(()=>{const u=l(n,a);s.callback(u,u?void 0:a)});return}return l(n,a)?void 0:a}async function Wa(n,t){const e=n.getExtension("KHR_parallel_shader_compile"),i=e?(s,o)=>s.getProgramParameter(o,e.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await Ga(r),r=1e3/60;while(!i(n,t))}function qa(n,t,e){if(e=e||Li,!n.getProgramParameter(t,Uo)){const r=n.getProgramInfoLog(t);e(`Error in program linking: ${r}`);const o=n.getAttachedShaders(t).map(a=>Ua(n,n.getShaderParameter(a,n.SHADER_TYPE),a,e));return`${r}
${o.filter(a=>a).join(`
`)}`}}function ja(n,t,e,i,r){return Xa(n,t,e,i,r)}function br(n){const t=n.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const Ka=/(\.|\[|]|\w+)/g,Qa=n=>n>="0"&&n<="9";function Za(n,t,e,i){const r=n.split(Ka).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=Qa(a[0]),u=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){e[u]=t;break}else{const h=r[s++],f=h==="[",d=e[u]||(f?[]:{});e[u]=d,e=d,i[o]=i[o]||function(g){return function(_){wr(g,_)}}(d),o+=h}}}function Ja(n,t){let e=0;function i(a,l,u){const c=l.name.endsWith("[0]"),h=l.type,f=P[h];if(!f)throw new Error(`unknown type: 0x${h.toString(16)}`);let d;if(f.bindPoint){const g=e;e+=l.size,c?d=f.arraySetter(n,h,g,u,l.size):d=f.setter(n,h,g,u,l.size)}else f.arraySetter&&c?d=f.arraySetter(n,u):d=f.setter(n,u);return d.location=u,d}const r={},s={},o=n.getProgramParameter(t,Zn);for(let a=0;a<o;++a){const l=n.getActiveUniform(t,a);if(br(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const c=n.getUniformLocation(t,l.name);if(c){const h=i(t,l,c);r[u]=h,Za(u,h,s,r)}}return r}function tl(n,t){const e={},i=n.getProgramParameter(t,Ho);for(let r=0;r<i;++r){const s=n.getTransformFeedbackVarying(t,r);e[s.name]={index:r,type:s.type,size:s.size}}return e}function el(n,t){const e=n.getProgramParameter(t,Zn),i=[],r=[];for(let a=0;a<e;++a){r.push(a),i.push({});const l=n.getActiveUniform(t,a);i[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],u=a[1];n.getActiveUniforms(t,r,n[l]).forEach(function(c,h){i[h][u]=c})});const s={},o=n.getProgramParameter(t,Xo);for(let a=0;a<o;++a){const l=n.getActiveUniformBlockName(t,a),u={index:n.getUniformBlockIndex(t,l),usedByVertexShader:n.getActiveUniformBlockParameter(t,a,Wo),usedByFragmentShader:n.getActiveUniformBlockParameter(t,a,qo),size:n.getActiveUniformBlockParameter(t,a,jo),uniformIndices:n.getActiveUniformBlockParameter(t,a,Ko)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[l]=u}return{blockSpecs:s,uniformData:i}}function wr(n,t){for(const e in t){const i=n[e];typeof i=="function"?i(t[e]):wr(n[e],t[e])}}function Qt(n,...t){const e=n.uniformSetters||n,i=t.length;for(let r=0;r<i;++r){const s=t[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)Qt(e,s[a])}else for(const o in s){const a=e[o];a&&a(s[o])}}}function il(n,t){const e={},i=n.getProgramParameter(t,Go);for(let r=0;r<i;++r){const s=n.getActiveAttrib(t,r);if(br(s))continue;const o=n.getAttribLocation(t,s.name),a=H[s.type],l=a.setter(n,o,a);l.location=o,e[s.name]=l}return e}function nl(n,t){for(const e in t){const i=n[e];i&&i(t[e])}}function Tr(n,t,e){e.vertexArrayObject?n.bindVertexArray(e.vertexArrayObject):(nl(t.attribSetters||t,e.attribs),e.indices&&n.bindBuffer(Lo,e.indices))}function mn(n,t){const e=Ja(n,t),i=il(n,t),r={program:t,uniformSetters:e,attribSetters:i};return Bi(n)&&(r.uniformBlockSpec=el(n,t),r.transformFeedbackInfo=tl(n,t)),r}const rl=/\s|{|}|;/;function Er(n,t,e,i,r){const s=Yi(e,i,r),o=[];if(t=t.map(function(u){if(!rl.test(u)){const c=Qn(u);if(c)u=c.text;else{const h=`no element with id: ${u}`;s.errorCallback(h),o.push(h)}}return u}),o.length)return $a(s,"");const a=s.callback;a&&(s.callback=(u,c)=>{a(u,u?void 0:mn(n,c))});const l=ja(n,t,s);return l?mn(n,l):null}const sl=4,yn=5123;function Sr(n,t,e,i,r,s){e=e===void 0?sl:e;const o=t.indices,a=t.elementType,l=i===void 0?t.numElements:i;r=r===void 0?0:r,a||o?s!==void 0?n.drawElementsInstanced(e,l,a===void 0?yn:t.elementType,r,s):n.drawElements(e,l,a===void 0?yn:t.elementType,r):s!==void 0?n.drawArraysInstanced(e,r,l,s):n.drawArrays(e,r,l)}function ol(n,t){t=t||1,t=Math.max(0,t);const e=n.clientWidth*t|0,i=n.clientHeight*t|0;return n.width!==e||n.height!==i?(n.width=e,n.height=i,!0):!1}class al{constructor(t){this.gl=t,this.y=0,this.isActive=this.canScroll,document.onscroll=e=>this.onScroll(e)}onScroll(t){this.isActive&&(this.y=window.scrollY*this.gl.vp.px)}resize(t){this.gl=t,this.isActive=this.canScroll,this.y=window.scrollY*this.gl.vp.px}get canScroll(){return document.documentElement.scrollHeight>window.innerHeight}}class ll{constructor(t,e={z:-9,fov:.6,near:1,far:1024}){e.fov=ul(35),this.camera=e}get(t){return this.camera.mat=dn.translate(dn.perspective(this.camera.fov,t.canvas.width/t.canvas.height,this.camera.near,this.camera.far),[0,0,this.camera.z]),this.camera}}function ul(n){return n*Math.PI/180}
